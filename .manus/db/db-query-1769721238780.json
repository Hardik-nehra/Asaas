{
  "query": "\nCREATE TABLE IF NOT EXISTS `documents` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `userId` int NOT NULL,\n  `filename` varchar(512) NOT NULL,\n  `originalName` varchar(512) NOT NULL,\n  `fileType` enum('pdf','docx','txt') NOT NULL,\n  `documentType` enum('project_plans','specifications','standard_plans','special_provisions','cpm_schedule','other') NOT NULL DEFAULT 'other',\n  `fileSize` bigint NOT NULL,\n  `s3Key` varchar(1024) NOT NULL,\n  `s3Url` text NOT NULL,\n  `pageCount` int,\n  `extractedText` text,\n  `processingStatus` enum('pending','processing','completed','failed') NOT NULL DEFAULT 'pending',\n  `metadata` json,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  CONSTRAINT `documents_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `document_chunks` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `documentId` int NOT NULL,\n  `userId` int NOT NULL,\n  `chunkIndex` int NOT NULL,\n  `content` text NOT NULL,\n  `pageNumber` int,\n  `sectionTitle` varchar(512),\n  `startOffset` int,\n  `endOffset` int,\n  `metadata` json,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  CONSTRAINT `document_chunks_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `conversations` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `userId` int NOT NULL,\n  `title` varchar(256) NOT NULL,\n  `documentIds` json,\n  `lastMessageAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  CONSTRAINT `conversations_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `messages` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `conversationId` int NOT NULL,\n  `userId` int NOT NULL,\n  `role` enum('user','assistant','system') NOT NULL,\n  `content` text NOT NULL,\n  `citations` json,\n  `toolCalls` json,\n  `metadata` json,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  CONSTRAINT `messages_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `reports` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `userId` int NOT NULL,\n  `conversationId` int,\n  `title` varchar(512) NOT NULL,\n  `reportType` enum('requirements_summary','specifications_summary','critical_path','conflict_analysis','schedule_analysis','material_estimate','custom') NOT NULL,\n  `content` text NOT NULL,\n  `documentIds` json,\n  `metadata` json,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  CONSTRAINT `reports_id` PRIMARY KEY(`id`)\n);\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway03.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 3GmqHGQp4yeAHTL.root --database BGF2nUcVwggDdWFhU5h9w8 --execute \nCREATE TABLE IF NOT EXISTS `documents` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `userId` int NOT NULL,\n  `filename` varchar(512) NOT NULL,\n  `originalName` varchar(512) NOT NULL,\n  `fileType` enum('pdf','docx','txt') NOT NULL,\n  `documentType` enum('project_plans','specifications','standard_plans','special_provisions','cpm_schedule','other') NOT NULL DEFAULT 'other',\n  `fileSize` bigint NOT NULL,\n  `s3Key` varchar(1024) NOT NULL,\n  `s3Url` text NOT NULL,\n  `pageCount` int,\n  `extractedText` text,\n  `processingStatus` enum('pending','processing','completed','failed') NOT NULL DEFAULT 'pending',\n  `metadata` json,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  CONSTRAINT `documents_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `document_chunks` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `documentId` int NOT NULL,\n  `userId` int NOT NULL,\n  `chunkIndex` int NOT NULL,\n  `content` text NOT NULL,\n  `pageNumber` int,\n  `sectionTitle` varchar(512),\n  `startOffset` int,\n  `endOffset` int,\n  `metadata` json,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  CONSTRAINT `document_chunks_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `conversations` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `userId` int NOT NULL,\n  `title` varchar(256) NOT NULL,\n  `documentIds` json,\n  `lastMessageAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  CONSTRAINT `conversations_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `messages` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `conversationId` int NOT NULL,\n  `userId` int NOT NULL,\n  `role` enum('user','assistant','system') NOT NULL,\n  `content` text NOT NULL,\n  `citations` json,\n  `toolCalls` json,\n  `metadata` json,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  CONSTRAINT `messages_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `reports` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `userId` int NOT NULL,\n  `conversationId` int,\n  `title` varchar(512) NOT NULL,\n  `reportType` enum('requirements_summary','specifications_summary','critical_path','conflict_analysis','schedule_analysis','material_estimate','custom') NOT NULL,\n  `content` text NOT NULL,\n  `documentIds` json,\n  `metadata` json,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  CONSTRAINT `reports_id` PRIMARY KEY(`id`)\n);\n",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 130
}